(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5218:(e,s,t)=>{Promise.resolve().then(t.bind(t,6855))},6855:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var a=t(6214),n=t(8189);let i=t(711).env.NEXT_PUBLIC_BACKEND_URL||"http://localhost:3001";function l(){let[e,s]=(0,n.useState)(i),[t,l]=(0,n.useState)("Route Test User"),[r,c]=(0,n.useState)("route-test@example.com"),[d,u]=(0,n.useState)("testpass1234"),[o,h]=(0,n.useState)(!1),[p,x]=(0,n.useState)(null),j=(0,n.useMemo)(()=>e.trim().replace(/\/$/,""),[e]),g=async(e,s,t,a)=>{h(!0);try{let n=await fetch(`${j}${s}`,{method:t,headers:a?{"Content-Type":"application/json"}:void 0,body:a?JSON.stringify(a):void 0,credentials:"include"}),i=await n.text(),l=(e=>{try{return e?JSON.parse(e):null}catch{return null}})(i);x({name:e,status:n.status,ok:n.ok,body:l,rawText:i})}catch(s){x({name:e,status:0,ok:!1,body:null,rawText:s instanceof Error?s.message:"Unknown request failure"})}finally{h(!1)}},m=async e=>{e.preventDefault(),await g("Sign Up","/api/auth/sign-up/email","POST",{name:t,email:r,password:d})},b=async e=>{e.preventDefault(),await g("Sign In","/api/auth/sign-in/email","POST",{email:r,password:d})};return(0,a.jsxs)("main",{className:"page",children:[(0,a.jsxs)("section",{className:"panel",children:[(0,a.jsx)("h1",{children:"Auth Debug UI"}),(0,a.jsx)("p",{children:"Standalone frontend for testing backend auth routes. It does not share state or code with the main web app."}),(0,a.jsxs)("label",{className:"field",children:[(0,a.jsx)("span",{children:"Backend URL"}),(0,a.jsx)("input",{value:e,onChange:e=>s(e.target.value),placeholder:"http://localhost:3001"})]}),(0,a.jsxs)("div",{className:"grid two",children:[(0,a.jsxs)("form",{className:"card",onSubmit:m,children:[(0,a.jsx)("h2",{children:"Create Account"}),(0,a.jsxs)("label",{className:"field",children:[(0,a.jsx)("span",{children:"Name"}),(0,a.jsx)("input",{value:t,onChange:e=>l(e.target.value),required:!0})]}),(0,a.jsxs)("label",{className:"field",children:[(0,a.jsx)("span",{children:"Email"}),(0,a.jsx)("input",{type:"email",value:r,onChange:e=>c(e.target.value),required:!0})]}),(0,a.jsxs)("label",{className:"field",children:[(0,a.jsx)("span",{children:"Password"}),(0,a.jsx)("input",{type:"password",value:d,onChange:e=>u(e.target.value),minLength:8,required:!0})]}),(0,a.jsx)("button",{disabled:o,type:"submit",children:o?"Working...":"Sign Up"})]}),(0,a.jsxs)("form",{className:"card",onSubmit:b,children:[(0,a.jsx)("h2",{children:"Sign In"}),(0,a.jsxs)("label",{className:"field",children:[(0,a.jsx)("span",{children:"Email"}),(0,a.jsx)("input",{type:"email",value:r,onChange:e=>c(e.target.value),required:!0})]}),(0,a.jsxs)("label",{className:"field",children:[(0,a.jsx)("span",{children:"Password"}),(0,a.jsx)("input",{type:"password",value:d,onChange:e=>u(e.target.value),required:!0})]}),(0,a.jsx)("button",{disabled:o,type:"submit",children:o?"Working...":"Sign In"})]})]}),(0,a.jsxs)("div",{className:"grid three",children:[(0,a.jsx)("button",{disabled:o,onClick:()=>g("Get Session","/api/auth/get-session","GET"),children:"Get Session"}),(0,a.jsx)("button",{disabled:o,onClick:()=>g("Sign Out","/api/auth/sign-out","POST"),children:"Sign Out"}),(0,a.jsx)("button",{disabled:o,onClick:()=>g("Auth Status","/api/v1/auth/status","GET"),children:"Auth Status"}),(0,a.jsx)("button",{disabled:o,onClick:()=>g("Auth Me","/api/v1/auth/me","GET"),children:"Auth Me"}),(0,a.jsx)("button",{disabled:o,onClick:()=>g("Diagnostics","/api/v1/auth/diagnostics","GET"),children:"Diagnostics"}),(0,a.jsx)("button",{disabled:o,onClick:()=>g("Diagnostics Sessions","/api/v1/auth/diagnostics/sessions?limit=10","GET"),children:"Sessions"}),(0,a.jsx)("button",{disabled:o,onClick:()=>g("Diagnostics Accounts","/api/v1/auth/diagnostics/accounts","GET"),children:"Accounts"})]})]}),(0,a.jsxs)("section",{className:"panel output",children:[(0,a.jsx)("h2",{children:"Last Response"}),p?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:p.name})," | status: ",p.status," | ok: ",String(p.ok)]}),(0,a.jsx)("pre",{children:p.body?JSON.stringify(p.body,null,2):p.rawText||"(empty body)"})]}):(0,a.jsx)("p",{children:"No request made yet."})]})]})}}},e=>{e.O(0,[71,834,358],()=>e(e.s=5218)),_N_E=e.O()}]);